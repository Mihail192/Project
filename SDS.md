# Software Development Specification
# Содержание
1 [Диаграмма вариантов использования](#диаграмма-вариантов-использования)  
2 [Диаграммы активностей](#диаграммы-активностей)  
3 [Диаграммы последовательностей](#диаграммы-последовательностей)  
4 [Диаграммы состояний](#диаграммы-состояний)  
5 [Диаграмма классов](#диаграмма-классов)  
6 [Диаграмма компонентов и развертывания](#диаграмма-компонентов-и-развертывания)  
7 [Описание хранения данных программы](#описание-хранения-данных-программы)

# Диаграмма вариантов использования

## 1 Актёры

| Актёр                     | Описание                                                                                         |
| :------------------------ | :----------------------------------------------------------------------------------------------- |
| Пользователь              | Человек, использующий приложение                                                                 |
| Клиент                    | Программное обеспечение                                                                          |

## 2 Варианты использования

Use Case диаграммы программного обеспечения для управления складами:

![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/UseCases/usercase.png)

### 2.1 Описание вариантов использования 

**Описание.** 
Вариант использования "Открыть сохранённый товар" позволяет пользователю открыть сохранённый ранее склад.

1. Пользователь выбирает опцию "File->Open".
2. ПО отображает список сохранённых складов.
3. Пользователь выбирает, какой склад открыть.
4. ПО извлекает из выбранного пользователем склад данные.
5. ПО отображет извлечённые данные товаров в виде списка.
6. Конец варианта использования.

**Описание.** 
Вариант использования "Добавить товар на склад" позволяет пользователю добавить товар на склад.

1. Пользователь выбирает опцию "Add".
2. ПО отображает окно с полями для ввода данных о товаре.
3. Пользователь вводит данные нового товара.
4. ПО проверяет на корректность введённых данных. 
5. Если данные введены некорректно, то выдётся сообщение о некорректности ввода и повторяется п.3.
6. ПО добавляет данные нового товара в списке товаров склада.
7. Конец варианта использования.

# Диаграммы активностей

1. Добавление товара  
![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/ActivityDiagram/add_good.png)

2. Добавление водителя  
![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/ActivityDiagram/add_remove.png)

3. Открытие сохранённого склада  
![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/ActivityDiagram/open.png)

# Диаграммы последовательностей

![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/SequenceDiagram/Sequence.png)

# Диаграммы состояний

1. Добавление товара  
![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/SateDiagram/add_goog.png)

2. Добавление водителя  
![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/SateDiagram/add_driver.png)

3. Открытие сохранённого склада  
![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/SateDiagram/open.png)

# Диаграмма классов

![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/ClassDiagram/Students%20Enrollment%20Class%20Diagram.png)

**Описание диаграммы классов.**

Класс datauser - содержит основную информацию, присущую любому описанию персональных данных человека, является предком для классов driver и tenant.  
Содержит следующие поля:  
•	fam – хранит фамилию  
•	name – хранит имя  
•	och – хранит отчество  
•	numphone – хранит номер телефона.  

Для работы используются следующие методы:  
•	get_fam – получение фамилии  
•	get_name – получение имени  
•	get_och – получение отчества  
•	get_numph – получение номера телефона  


Класс driver - содержит информацию о водителе.  
Содержит следующие поля:  
•	car – хранит название автомобиля  
•	regnum – хранит автомобильный номер  
•	flagdel – хранит флаг, использующий для удаления из списка водителей(true – для удаления, false – не удаляется)  

Для работы используются следующие методы:  
•	get_car – получение названия автомобиля  
•	get_regbun – получение номера автомобиля  
•	get_flagdel – получение флага удаления  


Класс tenant - содержит информацию о поставщике товара.  
Содержит следующие поля:  
•	company – хранит название компании-производителя  
•	numpass – хранит номер паспорта  

Для работы используются следующие методы:  
•	get_company – получение названия компании-производителя  
•	get_numpass – получение номера паспорта  


Класс storage - содержит информацию о товаре.  
Содержит следующие поля:  
•	s_id – хранит уникальный идентификатор  
•	s_idgen – служит для генерации значения для поля s_id  
•	s_name – хранит наименование товара  
•	s_type – хранит тип товара  
•	s_kol – хранит количество товара  
•	status – хранит статус товара (true – на складе, false – нет на складе)  
•	extrainfo – дополнительная информация о товаре  
•	in ¬– объект типа QDate. Хранит дату привоза товара на склад  
•	whoin – объект типа drviver. Хранит информацию о водителе, к-рый доставил товар на склад  
•	whois – объект типа tenant. Хранит информацию о поставщике товара  
•	flagdel – хранит флаг, использующий для удаления из списка водителей(true – для удаления, false – не удаляется)  

Для работы используются следующие методы:  
•	get_flagdel – получение флага удаления  
•	get_s_id – получение идентификатора.  
•	get_s_kol – получение количества товара  
•	get_s_name – получение наименование товара  
•	get_s_type – получение типа товара  
•	set_flagdel – присвоение значения полю flagdel  
•	set_idgen – присвоение значения полю s_idgen  


Класс StorageModel - содержит описание отображения информации склада в виде таблицы.  
Содержит следующие поля:  
•	m_data – объект типа vector<storage>. Хранит данные о всех товарах склада  

Для работы используются следующие методы:  
•	add – добавление данных в таблицу и в поле m_data  
•	addfromfile – чтение и добавление данных о товарах из файла  
•	columnCount – присвоение значения количества столбцов  
•	rowCount – присвоение значения количества строк  
•	data – описание представления данных в таблице  
•	del – удаление данных из таблицы и из поля m_data  
•	flags – описание представления свойств полей в таблице  
•	headerData – описание представления шапки таблицы  
•	setData – описание изменения данных напрямую из таблицы  
•	sortstorage – функция сортировки списка товаров  


Класс Add - содержит описание окна и функции добавления товара на склад.  
Содержит следующие поля:  
•	ui – объект описывающий окно и компоненты окна  
•	extradrivers – хранит информацию о водителей склада  

Для работы используются следующие методы:  
•	on_checkBox_stateChanged – функция, которая срабатывает при смене статуса для скрытия/отображения элементов редактирования даты доставки и информации о водителе, привезший товар  
•	on_pushButton_2_clicked – функция, которая вызывается при нажатии кнопки закрытия окна добавления с последующей очисткой строк ввода  
•	recieveData – функция, которая получает данные с строк ввода и вызывает метод добавления товара на склад  
•	reject – функция, которая вызывается при нажатии кнопки закрытия окна добавления с последующей очисткой строк ввода  
•	setdriversdata – добавление данных о водителей склада в combobox  


Класс editelem - содержит описание окна и функции редактирования товара на склад.  
Содержит следующие поля:  
•	current_driver – хранит информацию о водителе, к-рый содержится в объекте товара  
•	extradrivers – хранит информацию о водителей склада  
•	foredit – хранит индекс редактируемого товара  
•	ui – объект описывающий окно и компоненты окна  
•	wininfo – объект окна подробной информации о водителе  

Для работы используются следующие методы:  
•	editdata – функция, которая получает данные с строк ввода для дальнейшей записи в вектор  
•	on_checkBox_stateChanged – функция, которая срабатывает при смене статуса для скрытия/отображения элементов редактирования даты доставки и информации о водителе, привезший товар.  
•	on_comboBox_currentIndexChanged – функция, которая вызывается при смене выбора водителя, привезший товар, в combobox и поcледующим обновлении информации в окне просмотра подробной информации о водителе  
•	on_driverinfoButton_clicked – открытие окна с подробной информацией о водителе  
•	setdatainline – добавление в строки ввода информацию о товаре для дальнейшего редактирования  
•	setedit – присвоение значение индекса редактируемого товара полю foredit  
•	reject – функция, которая вызывается при нажатии кнопки закрытия окна редактирования с последующей очисткой строк ввода  


Класс DriversList - содержит описание окна отображения списка водителей склада.  
Содержит следующие поля:  
•	adddriverwin – объект окна добавления водителя  
•	buttondel – флаг, описывающий режим работы нажатия кнопки удаления  
•	editdriverwin – объект окна редактирования водителя  
•	ui – объект описывающий окно и компоненты окна  
•	modeldriver – объект модели таблицы отображения списка водителей  

Для работы используются следующие методы:  
•	emptydrivers – функция, проверки на содержание данных о водителях склада для дальнейшего отображения/скрытия таблицы  
•	on_addButton_clicked – открытие окна добавления водителя  
•	on_delButton_clicked – удаление водителя из списка  
•	openeditdriver – функция, которая вызывается по двойному клику и открывает окно редактирования данных о водителе  
•	onButtonAdd – функция отправки данных о водителе склада в окно добавления  
•	onButtonEdit – функция отправки данных о водителе склада в окно редактирования  


Класс DriversModel - содержит описание отображения информации водителей скалада в виде таблицы.  
Содержит следующие поля:  
•	drivers – объект типа vector<driver>. Хранит данные о водителях  

Для работы используются следующие методы:  
•	add – добавление данных в таблицу и в поле drivers  
•	addfromfile – чтение и добавление данных о товарах из файла  
•	columnCount – присвоение значения количества столбцов  
•	rowCount – присвоение значения количества строк  
•	data – описание представления данных в таблице  
•	del – удаление данных из таблицы и из поля drivers  
•	flags – описание представления свойств полей в таблице  
•	headerData – описание представления шапки таблицы  
•	setData – описание изменения данных напрямую из таблицы  


Класс Adddriver - содержит описание окна и функции добавления товара на склад.  
Содержит следующие поля:  
•	ui – объект описывающий окно и компоненты окна  

Для работы используются следующие методы:  
•	on_adddriverButton_clicked – функция, которая вызывает метод добавления водителя с последующим закрытием окна  
•	recieveDrivers – функция, которая получает данные с строк ввода и вызывает метод добавления товара на склад  
•	reject – функция, которая вызывается при нажатии кнопки закрытия окна добавления с последующей очисткой строк ввода  

  
Класс editdriver - содержит описание окна и функции редактирования товара на склад.  
Содержит следующие поля:  
•	foredit – хранит индекс редактируемого водителя  
•	ui – объект описывающий окно и компоненты окна   

Для работы используются следующие методы:  
•	editdatadriver – функция, которая получает данные с строк ввода для дальнейшей записи в вектор  
•	on_adddriverButton_clicked – функция, которая вызывает метод редактирования водителя с последующим закрытием окна  
•	setdatadrivers – добавление в строки ввода информацию о водителе для дальнейшего редактирования  
•	setedit – присвоение значение индекса редактируемого водителя 
полю foredit  
•	reject – функция, которая вызывается при нажатии кнопки закрытия окна редактирования с последующей очисткой строк ввода  


Класс DriverInfo - содержит описание окна отображения подробной информации о водителе.  
Содержит следующие поля:  
•	ui – объект описывающий окно и компоненты окна  

Для работы используются следующие методы:  
•	setdriverinfo – добавление в строки ввода информацию о водителе только для чтения  


Класс openfile - содержит описание окна отображения списка файлов для открытия.  
Содержит следующие поля:  
•	ui – объект описывающий окно и компоненты окна  

Для работы используются следующие методы:  
•	updatelistfiles – добавление в список и своевременное обновление информации о файлах для открытия  
•	on_listWidget_itemClicked – функция, которая вызывается при клике на элемент списка файлов для дальнейшего его открытия  
•	ProvideContextMenu – функция описания контекстного меню вызываемое правым щелчком мыши по элементу списка файлов  


Класс savefile - содержит описание окна ввода имени файла.  
Содержит следующие поля:  
•	ui – объект описывающий окно и компоненты окна  

Для работы используются следующие методы:  
•	reject – функция, которая вызывается при нажатии кнопки закрытия окна с последующей очисткой строк ввода  
•	on_pushButton_2_clicked – функция, которая вызывается при нажатии кнопки закрытия окна с последующей очисткой строк ввода  
•	on_pushButton_clicked – функция, которая вызывает метод сохранения в файл и передаёт туда введённое имя файла  


Класс MainWindow - содержит описание главного окна отображения списка товаров склада.  
Содержит следующие поля:  
•	winadd – объект окна добавления товара  
•	windrivers – объект окна просмотра списка водителей склада   
•	winedit – объект окна редактирования товара  
•	winopen – объект окна открытия файла  
•	winsave – объект окна ввода нового имени файла для сохранения  
•	ui – объект описывающий окно и компоненты окна   
•	namefile – хранит название открытого файла  
•	modelstorage – объект модели таблицы отображения списка товаров  
•	countbuttondel – флаг, описывающий режим работы нажатия кнопки удаления  

Для работы используются следующие методы:  
•	emptystorage – функция, проверки на содержание данных о товарах склада для дальнейшего отображения/скрытия таблицы  
•	newstorage – функуция, выполняющая полную очистку данных склада  
•	on_driversButton_clicked – открытие окна с списком водителей   
•	on_pushButton_clicked – закрытие программы  
•	on_pushButton_2_clicked – открытие окна добавления товара  
•	on_pushButton_3_clicked – функция, которая вызывает метод удаления товара  
•	onButtonSend – функция отправки данных о водителе склада в окно добавления  
•	onButtonSend2 – функция отправки данных о водителе склада в окно редактирования  
•	openedit – открытие окна редактирования товара  
•	openfilestorage – чтение данных о товарах из файла  
•	openlistfiles – открытие окна открытия файла  
•	savefilestorage – сохранение данных в файл  
•	savenewfilestorage – метод, принимающий новое название файла и присваивающий полю namefile  

# Диаграмма компонентов и развертывания

![](https://github.com/BSUIRstudent/TRITPO_LAB3/blob/main/DeploymentDiagram/Component%26Deployment.png)  
# Описание хранения данных программы  
  Первый файл под названием storagedrivers хранит информацию о водителях класса: ФИО, номер мобильного телефона, название и номер автомобиля. Данный файл   открывается в самом начале работы программы.  
Следующий файл, (название задаётся пользователем).storage, хранит информацию о товарах на складе. Описание параметров идёт в следующем порядке:  
*	id товара
*	Наименование товара
*	Тип товара
*	Количество товара
*	Дата завоза:
    *	День
    *	Месяц
    *	Год
*	Дополнительная информация
*	Водитель, к-рый доставил товар:
    *	ФИО
    *	Номер телефона
    *	Название автомобиля
    *	Номер автомобиля
*	Поставщик товара:
    *	ФИО
    *	Номер телефона
    *	Название компании-производителя
    *	Номер паспорта
